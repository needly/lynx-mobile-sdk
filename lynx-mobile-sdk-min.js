const AGENT_IOS="EOSLynx IOS",AGENT_ANDROID="EOSLynx Android",AGENT_DESKTOP="EOSLynx Desktop";(function(a){function b(){function b(a){if("object"==typeof a&&null!==a)return a;var b;try{b=JSON.parse(a)}catch(a){}return b||a}const c="setAccount",d="setAccountName",e="transactionResult",f="signatureResult",g="arbitrarySignatureResult";var h={};return h.handlers={},h.appDidEnterBackground=function(){a.dispatchEvent(new CustomEvent("lynxMobileEnteredBackground")),console.log("LynxMobile Entered Background")},h.appDidEnterForeground=function(){a.dispatchEvent(new CustomEvent("lynxMobileEnteredForeground")),console.log("LynxMobile Entered Foreground")},h.setAccount=function(a,d){var e=b(d);this.handlers.hasOwnProperty(c)&&(a&&"undefined"!=typeof e?this.handlers[c].resolve(e):this.handlers[c].reject(new Error("There was a problem fetching Account")),delete this.handlers[c])},h.setAccountName=function(a){this.handlers.hasOwnProperty(d)&&("string"==typeof a||a instanceof String?this.handlers[d].resolve(a):this.handlers[d].reject(new Error("There was a problem fetching Account Name")),delete this.handlers[d])},h.transactionResult=function(a,c){var d=b(c);this.handlers.hasOwnProperty(e)&&(a&&"undefined"!=typeof d?this.handlers[e].resolve(d):a||"undefined"==typeof d?this.handlers[e].reject(new Error("Transaction was cancelled or there was a problem")):this.handlers[e].reject(d),delete this.handlers[e])},h.signatureResult=function(a,c){var d=b(c);this.handlers.hasOwnProperty(f)&&(a&&"undefined"!=typeof d?this.handlers[f].resolve(d):a||"undefined"==typeof d?this.handlers[f].reject(new Error("Signature request was cancelled or there was a problem")):this.handlers[f].reject(d),delete this.handlers[f])},h.arbitrarySignatureResult=function(a,b){this.handlers.hasOwnProperty(g)&&(a&&"string"==typeof b||b instanceof String?this.handlers[g].resolve(b):!a&&"string"==typeof b||b instanceof String?this.handlers[g].reject(new Error(b)):this.handlers[g].reject(new Error("There was an error providing signature")),delete this.handlers[g])},h.eosTransfer=function(b){return new Promise((c,d)=>{switch(this.handlers[e]={resolve:c,reject:d},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.eosTransfer.postMessage(JSON.stringify(b));break;case AGENT_ANDROID:a.android.eosTransfer(JSON.stringify(b)||"");break;case AGENT_DESKTOP:a.desktop.requestEosTransfer(b);}})},h.transfer=function(b){return new Promise((c,d)=>{switch(this.handlers[e]={resolve:c,reject:d},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.transfer.postMessage(JSON.stringify(b));break;case AGENT_ANDROID:a.android.transfer(JSON.stringify(b)||"");break;case AGENT_DESKTOP:a.desktop.requestTransfer(b);}})},h.transact=function(b){return new Promise((c,d)=>{let f=b;switch("object"==typeof b&&b.constructor===Array?f={actions:b}:(void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("First argument not an object")),this.handlers[e]={resolve:c,reject:d},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.transact.postMessage(JSON.stringify(f));break;case AGENT_ANDROID:a.android.transact(JSON.stringify(f)||"");break;case AGENT_DESKTOP:a.desktop.requestTransact(f);}})},h.requestSetAccountName=function(){return new Promise((b,c)=>{switch(this.handlers[d]={resolve:b,reject:c},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestSetAccountName.postMessage(null);break;case AGENT_ANDROID:a.android.requestSetAccountName("");break;case AGENT_DESKTOP:a.desktop.requestSetAccountName();}})},h.requestSetAccount=function(b){return new Promise((d,e)=>{switch(this.handlers[c]={resolve:d,reject:e},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestSetAccount.postMessage(b);break;case AGENT_ANDROID:a.android.requestSetAccount(b||"");break;case AGENT_DESKTOP:a.desktop.requestSetAccount(b);}})},h.requestArbitrarySignature=function(b){return new Promise((c,d)=>{switch((void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("Argument not an object. Expected { data: string, whatFor: string}")),this.handlers.arbitrarySignatureResult={resolve:c,reject:d},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestArbitrarySignature.postMessage(JSON.stringify(b));break;case AGENT_ANDROID:a.android.requestArbitrarySignature(JSON.stringify(b)||"");break;case AGENT_DESKTOP:a.desktop.requestArbitrarySignature(b);}})},h.requestSignature=function(b){return new Promise((c,d)=>{switch((void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("Argument not an object. Expected deserialized transaction")),b.hasOwnProperty("serializedTransaction")&&d(new Error("Signing serialized transactions not supported yet. Please pass deserialized transaction.")),this.handlers[f]={resolve:c,reject:d},navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestSignature.postMessage(JSON.stringify(b));break;case AGENT_ANDROID:a.android.requestSignature(JSON.stringify(b)||"");break;case AGENT_DESKTOP:a.desktop.requestSignature(b);}})},h.requestFullscreen=function(b){if("boolean"==typeof b)switch(navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestFullscreen.postMessage(b);break;case AGENT_ANDROID:a.android.requestFullscreen(b);break;case AGENT_DESKTOP:a.desktop.requestFullscreen(b);}else console.log("Must pass true or false for lynxMobile.requestFullscreen")},h.requestLandscape=function(b){if("boolean"==typeof b)switch(navigator.userAgent){case AGENT_IOS:a.webkit.messageHandlers.requestLandscape.postMessage(b);break;case AGENT_ANDROID:a.android.requestLandscape(b);break;case AGENT_DESKTOP:console.log("requestLandscape not supported on Desktop");}else console.log("Must pass true or false for lynxMobile.requestLandscape")},h}if("undefined"==typeof a.lynxMobile)switch(a.lynxMobile=b(),navigator.userAgent){case AGENT_IOS:setTimeout(function(){a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded")},300);break;case AGENT_ANDROID:a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded");break;case AGENT_DESKTOP:setTimeout(function(){a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded")},300);}})(window);