(function(a){function b(){function b(a){if("object"==typeof a&&null!==a)return a;var b;try{b=JSON.parse(a)}catch(a){}return b||a}const c="EOSLynx IOS",d="EOSLynx Android",e="EOSLynx Desktop",f="setAccount",g="setAccountName",h="transactionResult",i="signatureResult",j="arbitrarySignatureResult";var k={};return k.handlers={},k.setAccount=function(a,c){var d=b(c);this.handlers.hasOwnProperty(f)&&(a&&"undefined"!=typeof d?this.handlers[f].resolve(d):this.handlers[f].reject(new Error("There was a problem fetching Account")),delete this.handlers[f])},k.setAccountName=function(a){this.handlers.hasOwnProperty(g)&&("string"==typeof a||a instanceof String?this.handlers[g].resolve(a):this.handlers[g].reject(new Error("There was a problem fetching Account Name")),delete this.handlers[g])},k.transactionResult=function(a,c){var d=b(c);this.handlers.hasOwnProperty(h)&&(a&&"undefined"!=typeof d?this.handlers[h].resolve(d):a||"undefined"==typeof d?this.handlers[h].reject(new Error("Transaction was cancelled or there was a problem")):this.handlers[h].reject(d),delete this.handlers[h])},k.signatureResult=function(a,c){var d=b(c);this.handlers.hasOwnProperty(i)&&(a&&"undefined"!=typeof d?this.handlers[i].resolve(d):a||"undefined"==typeof d?this.handlers[i].reject(new Error("Signature request was cancelled or there was a problem")):this.handlers[i].reject(d),delete this.handlers[i])},k.arbitrarySignatureResult=function(a,b){this.handlers.hasOwnProperty(j)&&(a&&"string"==typeof b||b instanceof String?this.handlers[j].resolve(b):!a&&"string"==typeof b||b instanceof String?this.handlers[j].reject(new Error(b)):this.handlers[j].reject(new Error("There was an error providing signature")),delete this.handlers[j])},k.eosTransfer=function(b){return new Promise((f,g)=>{switch(this.handlers[h]={resolve:f,reject:g},navigator.userAgent){case c:a.webkit.messageHandlers.eosTransfer.postMessage(JSON.stringify(b));break;case d:a.android.eosTransfer(JSON.stringify(b)||"");break;case e:}})},k.transfer=function(b){return new Promise((f,g)=>{switch(this.handlers[h]={resolve:f,reject:g},navigator.userAgent){case c:a.webkit.messageHandlers.transfer.postMessage(JSON.stringify(b));break;case d:a.android.transfer(JSON.stringify(b)||"");break;case e:}})},k.transact=function(b){return new Promise((f,g)=>{let i=b;switch("object"==typeof b&&b.constructor===Array?i={actions:b}:(void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&g(new Error("First argument not an object")),this.handlers[h]={resolve:f,reject:g},navigator.userAgent){case c:a.webkit.messageHandlers.transact.postMessage(JSON.stringify(i));break;case d:a.android.transact(JSON.stringify(i)||"");break;case e:}})},k.requestSetAccountName=function(){return new Promise((b,f)=>{switch(this.handlers[g]={resolve:b,reject:f},navigator.userAgent){case c:a.webkit.messageHandlers.requestSetAccountName.postMessage(null);break;case d:a.android.requestSetAccountName("");break;case e:}})},k.requestSetAccount=function(b){return new Promise((g,h)=>{switch(this.handlers[f]={resolve:g,reject:h},navigator.userAgent){case c:a.webkit.messageHandlers.requestSetAccount.postMessage(b);break;case d:a.android.requestSetAccount(b||"");break;case e:}})},k.requestArbitrarySignature=function(b){return new Promise((f,g)=>{switch((void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&g(new Error("Argument not an object. Expected { data: string, whatFor: string}")),this.handlers.arbitrarySignatureResult={resolve:f,reject:g},navigator.userAgent){case c:a.webkit.messageHandlers.requestArbitrarySignature.postMessage(JSON.stringify(b));break;case d:a.android.requestArbitrarySignature(JSON.stringify(b)||"");break;case e:}})},k.requestSignature=function(b){return new Promise((f,g)=>{switch((void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&g(new Error("Argument not an object. Expected deserialized transaction")),b.hasOwnProperty("serializedTransaction")&&g(new Error("Signing serialized transactions not supported yet. Please pass deserialized transaction.")),this.handlers[i]={resolve:f,reject:g},navigator.userAgent){case c:a.webkit.messageHandlers.requestSignature.postMessage(JSON.stringify(b));break;case d:a.android.requestSignature(JSON.stringify(b)||"");break;case e:}})},k}if("undefined"==typeof a.lynxMobile)switch(a.lynxMobile=b(),navigator.userAgent){case"EOSLynx IOS":setTimeout(function(){a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded")},300);break;case"EOSLynx Android":case"EOSLynx Desktop":a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded");}})(window);