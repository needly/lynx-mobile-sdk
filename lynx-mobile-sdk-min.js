(function(a){"undefined"==typeof a.lynxMobile&&(a.lynxMobile=function(){function b(a){if("object"==typeof a&&null!==a)return a;var b;try{b=JSON.parse(a)}catch(a){}return b||a}var c={};return c.handlers={},c.setAccount=function(c,d){var e=b(d),f=new CustomEvent("lynxMobileOnSetAccount",{detail:{success:c,result:e}});a.dispatchEvent(f),this.handlers.hasOwnProperty("setAccount")&&(c&&"undefined"!=typeof e?this.handlers.setAccount.resolve(e):this.handlers.setAccount.reject(new Error("There was a problem fetching Account")),delete this.handlers.setAccount)},c.setAccountName=function(b){if("string"==typeof b||b instanceof String){var c=new CustomEvent("lynxMobileOnSetAccountName",{detail:{accountName:b}});a.dispatchEvent(c)}this.handlers.hasOwnProperty("setAccountName")&&("string"==typeof b||b instanceof String?this.handlers.setAccountName.resolve(b):this.handlers.setAccountName.reject(new Error("There was a problem fetching Account Name")),delete this.handlers.setAccountName)},c.transactionResult=function(c,d){var e=b(d),f=new CustomEvent("lynxMobileOnTransactionResult",{detail:{success:c,result:e}});a.dispatchEvent(f),this.handlers.hasOwnProperty("transactionResult")&&(c&&"undefined"!=typeof e?this.handlers.transactionResult.resolve(e):c||"undefined"==typeof e?this.handlers.transactionResult.reject(new Error("Transaction was cancelled or there was a problem")):this.handlers.transactionResult.reject(e),delete this.handlers.transactionResult)},c.signatureResult=function(c,d){var e=b(d),f=new CustomEvent("lynxMobileOnSignatureResult",{detail:{success:c,result:e}});a.dispatchEvent(f),this.handlers.hasOwnProperty("signatureResult")&&(c&&"undefined"!=typeof e?this.handlers.signatureResult.resolve(e):c||"undefined"==typeof e?this.handlers.signatureResult.reject(new Error("Signature request was cancelled or there was a problem")):this.handlers.signatureResult.reject(e),delete this.handlers.signatureResult)},c.arbitrarySignatureResult=function(b,c){var d=new CustomEvent("lynxMobileOnArbitrarySignatureResult",{detail:{success:b,result:c}});a.dispatchEvent(d),this.handlers.hasOwnProperty("arbitrarySignatureResult")&&(b&&"string"==typeof c||c instanceof String?this.handlers.arbitrarySignatureResult.resolve(c):!b&&"string"==typeof c||c instanceof String?this.handlers.arbitrarySignatureResult.reject(new Error(c)):this.handlers.arbitrarySignatureResult.reject(new Error("There was an error providing signature")),delete this.handlers.arbitrarySignatureResult)},c.listenOnSetAccount=function(b){if("function"==typeof b){var c=function(a){b(a.detail)};a.removeEventListener("lynxMobileOnSetAccount",c,!1),a.addEventListener("lynxMobileOnSetAccount",c,!1)}},c.listenOnSetAccountName=function(b){if("function"==typeof b){var c=function(a){b(a.detail)};a.removeEventListener("lynxMobileOnSetAccountName",c,!1),a.addEventListener("lynxMobileOnSetAccountName",c,!1)}},c.listenOnTransactionResult=function(b){if("function"==typeof b){var c=function(a){b(a.detail)};a.removeEventListener("lynxMobileOnTransactionResult",c),a.addEventListener("lynxMobileOnTransactionResult",c)}},c.listenOnArbitrarySignatureResult=function(b){if("function"==typeof b){var c=function(a){b(a.detail)};a.removeEventListener("lynxMobileOnArbitrarySignatureResult",c),a.addEventListener("lynxMobileOnArbitrarySignatureResult",c)}},c.listenOnSignatureResult=function(b){if("function"==typeof b){var c=function(a){b(a.detail)};a.removeEventListener("lynxMobileOnSignatureResult",c),a.addEventListener("lynxMobileOnSignatureResult",c)}},c.eosTransfer=function(b){return new Promise((c,d)=>{this.handlers.transactionResult={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.eosTransfer.postMessage(JSON.stringify(b)):a.android&&a.android.eosTransfer(JSON.stringify(b)||"")})},c.transfer=function(b){return new Promise((c,d)=>{this.handlers.transactionResult={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.transfer.postMessage(JSON.stringify(b)):a.android&&a.android.transfer(JSON.stringify(b)||"")})},c.transact=function(b){return new Promise((c,d)=>{let e=b;"object"==typeof b&&b.constructor===Array?e={actions:b}:(void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("First argument not an object")),this.handlers.transactionResult={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.transact.postMessage(JSON.stringify(e)):a.android&&a.android.transact(JSON.stringify(e)||"")})},c.requestSetAccountName=function(){return new Promise((b,c)=>{this.handlers.setAccountName={resolve:b,reject:c},a.webkit?a.webkit.messageHandlers.requestSetAccountName.postMessage(null):a.android&&a.android.requestSetAccountName("")})},c.requestSetAccount=function(b){return new Promise((c,d)=>{this.handlers.setAccount={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.requestSetAccount.postMessage(b):a.android&&a.android.requestSetAccount(b||"")})},c.requestArbitrarySignature=function(b){return new Promise((c,d)=>{(void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("Argument not an object. Expected { data: string, whatFor: string}")),this.handlers.arbitrarySignatureResult={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.requestArbitrarySignature.postMessage(JSON.stringify(b)):a.android&&a.android.requestArbitrarySignature(JSON.stringify(b)||"")})},c.requestSignature=function(b){return new Promise((c,d)=>{(void 0===typeof b||"object"!=typeof b&&b.constructor!==Object)&&d(new Error("Argument not an object. Expected deserialized transaction")),b.hasOwnProperty("serializedTransaction")&&d(new Error("Signing serialized transactions not supported yet. Please pass deserialized transaction.")),this.handlers.signatureResult={resolve:c,reject:d},a.webkit?a.webkit.messageHandlers.requestSignature.postMessage(JSON.stringify(b)):a.android&&a.android.requestSignature(JSON.stringify(b)||"")})},c}(),a.webkit?setTimeout(function(){a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded")},300):(a.dispatchEvent(new CustomEvent("lynxMobileLoaded")),console.log("LynxMobile Loaded")))})(window);